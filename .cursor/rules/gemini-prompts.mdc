---
description: "Guidelines for creating Gemini prompts in this repo."
alwaysApply: false
globs:
  - "**/*"
---

## Gemini Prompting Rules

When you create or modify prompts intended for **Gemini** (code, docs, or
Cursor chat instructions), follow `docs/gemini-3-pro-prompt-engineering-best-practices.md`.

**Current model**: We use `gemini-2.5-flash` (free tier). TODO: Update to
`gemini-3-pro-preview` when paid plan is available.

- **Be precise and direct**
  - Avoid over-engineered, verbose prompts.
  - State the task in 1–3 clear sentences.

- **Structure prompts**
  - Use sections like `Role`, `Task`, `Rules`, `Output Format`, `Context`,
    `Final Instruction` as recommended in the doc.

- **Control output format**
  - Be explicit about output format (JSON/XML/text) and verbosity.
  - Note: `thinking_level` is not yet supported by `gemini-2.5-flash`.

- **Anchor to context**
  - For large inputs, put **context first, instructions last**, and use an
    anchor phrase such as:  
    "Based on the information above, …".

- **Avoid overfitting prompts to specific examples**
  - When a prompt fails on one input, fix the **underlying principle**, not the symptom.
  - Prefer simplifying existing rules over adding new exception rules.
  - Maintain a separate evaluation set to verify changes generalize.
  - Red flags: rules referencing specific IDs/values, accumulating exceptions,
    frequent prompt changes after each failure.

