## From DEMRE Temarios to Canonical Standards JSON

This document describes how we want to transform official DEMRE
temarios into a richer, canonical standards representation suitable
for building the knowledge graph.

---

## 1. Inputs

- **Official temarios (PDF)**  
  Stored under `app/data/temarios/pdf/`.

- **Structured temario JSON**  
  - Generated by `app/temarios/parsing.py` (run as a script).
  - Lives in `app/data/temarios/json/`.
  - Preserves the wording of:
    - habilidades (with criterios de evaluación),
    - ejes temáticos, unidades temáticas y descripciones.

These inputs are the *only* source of truth for official scope.

---

## 2. Target: canonical standards JSON

We want a machine-friendly JSON that is as comprehensive as
`legacy/PAES-kg/standards-paes-m1-full-GPT.md`, but structured
for code. At a high level, a standard will include:

- a stable **id** (e.g. `M1-NUM-01`),
- a short **title**,
- a rich **descripcion_general**,
- structured **incluye** / **no_incluye** lists,
- a list of **subcontenidos_clave**,
- optional **ejemplos_conceptuales**.

Later, atoms will link back to these standard IDs.

---

## 3. Transformation pipeline (conceptual)

1. **Parse temario JSON**
   - Read habilidades and ejes from `app/data/temarios/json/...`.
   - Map each unidad temática to one or more draft standard IDs
     (e.g. `M1-NUM-01`, `M1-NUM-02`, etc.).

2. **Enrich from domain knowledge**
   - Use documents like `legacy/PAES-kg/standards-paes-m1-full-GPT.md`
     as *content models*:
     - level of detail in descriptions,
     - the way “Incluye / No incluye / Subcontenidos clave” are written.
   - Write code or prompts that generate similar richness, while
     remaining faithful to the DEMRE scope.

3. **Normalize into JSON schema**
   - Define a small schema (Python dataclasses or Pydantic models)
     for a standard.
   - Ensure every standard is valid against this schema before it is
     committed.

4. **Export canonical JSON**
   - Store results under something like:
     - `app/standards/paes_m1_regular.json`
     - `app/standards/paes_m1_invierno.json`
   - Keep versions explicit (year, type: regular vs invierno).

---

## 4. Design principles for standards

- **Faithful to DEMRE**  
  Never introduce content that contradicts the official temario.

- **More explicit, not broader**  
  We unpack and clarify, but we do not add entirely new topics.

- **Stable codes**  
  Standard IDs should remain stable even if wording is improved in
  future passes.

---

## 5. Next steps

- Implement a minimal `app/standards/` module that:
  - loads temario JSON,
  - maps units to draft standard IDs,
  - exports a first canonical JSON schema (even if initially small).

- Iterate on the richness of each standard using domain expertise and
  the existing GPT-based markdown as a reference.


